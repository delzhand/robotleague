<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="./style.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.scrollto@2.1.3/jquery.scrollTo.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
<script src="./players.js"></script>
<script>

  let row = 0;
  let col = 0;
  let stars = 0;
  function init() {
    for(let i = 0; i < p.length; i++) {
      renderPlayerProfile(i);
    }
  }

  function renderPlayerProfile(i) {
    const unit = players[p[i][0]];
    const output = `
      <div class="player-profile col">
        <div class="name">${p[i][0]}</div>
        <div class="name">${unit.stability + unit.speed + unit.accuracy + unit.jump}★</div>
        <div class="stat"><span class="label">Stability</span>: ${renderStars(unit.stability)}</div>
        <div class="stat"><span class="label">Speed</span>: ${renderStars(unit.speed)}</div>
        <div class="stat"><span class="label">Accuracy</span>: ${renderStars(unit.accuracy)}</div>
        <div class="stat"><span class="label">Jump</span>: ${renderStars(unit.jump)}</div>
      </div>
    `;
    stars += unit.stability + unit.speed + unit.accuracy + unit.jump;
    $(`.row-${row}`).append(output);
    col++;
    if (col === 5) {
      $(`.row-${row}`).prepend(`<div class="team-profile col col-xs-12">${unit.team} ${stars}★</div>`);
      row++;
      $('.container').append(`<div class="row-${row}"></div>`)
      col = 0;
      stars = 0;
    }
  }

  function renderStars(count) {
    let output = '';
    for(let i = 0; i < 6; i++) {
      if (i < count) {
        output += '★';
      }
      else {
        output += '<span class="faded">☆</span>';
      }
    }
    return output;
  }

</script>
</head>
<body>
  <div class="container">
    <div class="row-0">
    </div>
  </div>
  <script>
    init();
  </script>
</body>